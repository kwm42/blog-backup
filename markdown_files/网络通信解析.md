---
title: 网络通信解析
date: 2018-07-19 17:13:24
tags:
---

# 网络通信解析

<!-- more -->

## 一.网络模型

我们熟知的网路模型有三种，分别是OSI七层模型，TCP/IP四层模型和五层模型，（个人觉得五层模型好像没什么用。。。）。其中OSI模型是非常经典的网络体系模型，对于的我们学习网络体系有很好的帮助，而TCP/IP模型则是现在广泛使用的网络体系。

### 1.OSI模型

网络体系从上到下是从应用层逐步到物理层过度，所以说第一层应该是物理层，OSI的模型如下所示：

|        | OSI        | TCP/IP | IP五层模型 |
| ------ | ---------- | ------ | ---------- |
| 第七层 | 应用层     | 应用层 | 应用层     |
| 第六层 | 表示层     | 应用层 | 应用层     |
| 第五层 | 会话层     | 应用层 | 应用层     |
| 第四层 | 传输层     | 传输层 | 传输层     |
| 第三层 | 网络层     | 网络层 | 网络层     |
| 第二层 | 数据链路层 | 物理层 | 数据链路层 |
| 第一层 | 物理层     | 物理层 | 物理层     |

- 1.物理层

  物理层的作用是给网络连接提供物理设备方面的支持（这不是废话吗）以及为上层提供服务，不过这个物理方面的支持到底是什么呢？

 我们知道物理介质有许多种，例如光缆，光纤，无线信号等，那么我们的数据会经过上层的封装到达物理层，转化成二进制信号，物理层的这些介质就负责在不同的终端之间传输比特流的物理信号。

- 2.数据链路层

  数据链路层的作用是提供通往物理层的数据通道，这是什么意思呢？物理层要为终端设备间的数据通信提供传输介质及其连接。介质是长期的，连接是有生存期的。 每次连接都要有数据报的封装和解封装，在这个过程中难免会发生错误，数据链路层就提供了基础的校验工作。

 数据链路层的基本功能应该要有以下三个：封装成帧，差错检测，透明传输。



封装成帧：将第三层的数据进行封装，帧定界，在数据报的首部和尾部加上开始符和结束符，用来区分不同的数据帧。需要注意的是如果数据报中连续出现 6 个比特的 0，则需要在第五个比特后面插入一个 1，

差错检测：初步检验数据的完整性，例如有可能出现 0->1，1->0 的情况，数据链路层普遍采用CRC循环校验码来进行差错检测。

透明传输：就是说不论比特流的组合是什么样的，他都可以在物理层上传输。

- 3.网络层

  网络层的作用是提供路由选择，能够正确的把数据传输到目的地。关于路由选择方面的知识可以看我的另一篇文章。

- 4.传输层

传输层的作用提供可靠的数据传输，主要有TCP和UDP两种。

| –    | TCP         | UDP          |
| ---- | ----------- | ------------ |
|      | 面向字节    | 面向报文     |
|      | 可靠的传输  | 不可靠的传输 |
|      | 速度比UDP慢 | 速度快       |
|      | 要建立连接  | 不用建立连接 |

- 5.会话层

会话单位的控制层，其主要功能是按照在应用进程之间约定的原则，按照正确的顺序收、发数据，进行各种形态的对话。会话层规定了会话服务用户间会话连接的建立和拆除规程以及数据传送规程。

- 6.表示层

数据表示形式的控制层，其主要功能是把应用层提供的信息变换为能够共同理解的形式，提供字符代码、数据格式、控制信息格式、加密等的统一表示。

- 7.应用层

OSI参考模型的最高层。其功能是实现应用进程（如用户程序、终端操作员等）之间的信息交换。同时，还具有一系列业务处理所需要的服务功能。

现在的话OSI七层模型主要是用来学习用的，

### 2.TCP/IP模型 

TCP/IP 模型和 OSI 模型的主要区别就是他把一些功能相近的层给合并了，比如OSI的上面三层，会话层，表示层，应用层，在 TCP/IP 模型中只用了一个应用层来表示，而底层的物理层和数据链路层合并成了网络接口层（也有叫其他名字的）。

- 应用层：这一层的主要功能就是提供应用程序所需要的接口，使用下层网络层，传输层，物理层的提供的服务给用户提供服务，他是应用程序和用户的交互。
- 网络层：功能与上述的OSI模型一样
- 传输层：同上
- 物理层：OSI的数据链路层与物理层合并成了网络接口层，主要是因为网络体系只要求为网络层提供物理方面的支持，需要为上层提供一个访问接口，所以将他们合并成了网络接口层。

### 3.五层模型

五层模型没有什么实际作用，OSI模型主要是用来学习，TCP/IP模型是真正在生活中使用的。